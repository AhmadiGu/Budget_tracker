<%= form_with model: @entity, url: entities_path, method: :post do |f| %>
    <% if @entity.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(@entity.errors.count, "error") %> prohibited this entity from being saved:</h2>

      <ul>
        <% @entity.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
    <% end %>
    
     <%= f.label :name %> 
     <%= f.text_field :name, placeholder: "Name", autofocus: true, class:"form-control mt-2 mb-2 opacity-75" %> 

     <%= f.label :amount %> 
     <%= f.number_field :amount, step: "0.01", required:true, placeholder: 'Amount', class:"form-control mt-2 mb-2 opacity-75"  %> 

    
      <%= f.label :category %><%= @category_id %>
      <%= f.select :category_ids, @categories.to_a.map { |category| [category.name, category.id, selected: @category_id == category.id] }, {include_blank: false}, { multiple: true, required: true} %>
      
     <%= f.hidden_field :category_id, value: @category_id %> 
      
     <br /> 
     <%= f.submit "Create Transaction", class:"btn btn-outline-secondary fw-bold mt-2 mb-3" %> 

     <div class="alert alert-warning">
     <p >Improtant Note:</p >
     <i >User can select more than one category</i><br />
     <i >Previeous category already selected</i>
     </div>
<% end %>